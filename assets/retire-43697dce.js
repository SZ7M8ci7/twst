import{d as G,r as c,e as J,R as Q,ah as e,o as s,c as W,w as m,a as _,h as n,b as d,t as g,l as E,j as a,k as V,F as A,aj as z,y as f,V as O,_ as X}from"./index-ef25b564.js";import{u as Y,_ as F}from"./characters-636e58c0.js";import{c as y}from"./characters_info-cf66bb8a.js";import{f as Z}from"./common-46fd778e.js";import{V as x,a as ee}from"./VRow-f693b91c.js";import{V as te,a as ie}from"./VCard-ef7ba1ed.js";import{V as oe}from"./VCardText-b675d451.js";import{V as le}from"./VSpacer-250e9995.js";import{V as se}from"./VDialog-0c95b2a3.js";import{V as ae}from"./VContainer-297fca3e.js";const re={class:"reset-area"},_e={class:"character-selection-area"},ue={class:"character-column"},ne=["onClick"],me=["src","alt"],ce={key:1,class:"empty-slot"},de=["onClick"],pe={class:"input-fields"},ve={class:"input-row"},ge={class:"custom-select"},fe=["onClick"],Ee=["src","alt"],Ve={key:1,class:"dropdown-icon"},Ae={key:0,class:"select-options"},Ce=["onClick"],he=["src","alt"],Ie={class:"input-with-counter"},De={class:"input-row"},Pe={class:"custom-select"},ke=["onClick"],Re=["src","alt"],Te={key:1,class:"dropdown-icon"},Oe={key:0,class:"select-options"},Le=["onClick"],be=["src","alt"],ye={class:"input-with-counter"},we={key:0,class:"input-row"},$e={class:"custom-select"},Ue=["onClick"],je=["src","alt"],ze={key:1,class:"dropdown-icon"},Fe={key:0,class:"select-options"},Be=["onClick"],Ne=["src","alt"],Se={class:"input-with-counter"},Me={key:1,class:"input-row"},He={class:"custom-select"},Ke=["onClick"],qe=["src","alt"],Ge={key:1,class:"dropdown-icon"},Je={key:0,class:"select-options"},Qe=["onClick"],We=["src","alt"],Xe={class:"input-with-counter"},Ye={class:"character-grid"},Ze=["onClick"],xe=["src","alt"],et=G({__name:"retire",setup(tt){const B=Y(),w=c(!0),C=c(!1),L=c(-1),I=c([null,null,null,null,null]),N=c({}),p=c([{name:"火",value:"fire",icon:""},{name:"水",value:"water",icon:""},{name:"植物",value:"flora",icon:""},{name:"宇宙",value:"cosmic",icon:""}]),o=c([{field1:"",field2:"",field3:"",field4:"",field1Attribute:"",field2Attribute:"",field3Attribute:"",field4Attribute:"",field1Count:0,field2Count:0,field3Count:0,field4Count:0},{field1:"",field2:"",field3:"",field4:"",field1Attribute:"",field2Attribute:"",field3Attribute:"",field4Attribute:"",field1Count:0,field2Count:0,field3Count:0,field4Count:0},{field1:"",field2:"",field3:"",field4:"",field1Attribute:"",field2Attribute:"",field3Attribute:"",field4Attribute:"",field1Count:0,field2Count:0,field3Count:0,field4Count:0},{field1:"",field2:"",field3:"",field4:"",field1Attribute:"",field2Attribute:"",field3Attribute:"",field4Attribute:"",field1Count:0,field2Count:0,field3Count:0,field4Count:0},{field1:"",field2:"",field3:"",field4:"",field1Attribute:"",field2Attribute:"",field3Attribute:"",field4Attribute:"",field1Count:0,field2Count:0,field3Count:0,field4Count:0}]),v=c(""),h=c([2,2,2,2,2]),S=J(()=>w.value?[]:y.filter(l=>l.imgUrl)),M=l=>{L.value=l,C.value=!0},H=l=>{L.value>=0&&(I.value[L.value]=l),C.value=!1},D=(l,r)=>{const u=`${l}-${r}`;v.value=v.value===u?"":u},P=(l,r,u)=>{const t=`${r}Attribute`;o.value[l][t]=u,v.value=""},k=l=>{const r=p.value.find(u=>u.value===l);return(r==null?void 0:r.icon)||""},R=l=>{const r=p.value.find(u=>u.value===l);return(r==null?void 0:r.name)||""},T=(l,r)=>{const u=`${r}Count`,t=o.value[l][u];o.value[l][u]=t+1},K=l=>{h.value[l]<4&&h.value[l]++},$=c(0),q=()=>{o.value.forEach((l,r)=>{o.value[r].field1Count=0,o.value[r].field2Count=0,o.value[r].field3Count=0,o.value[r].field4Count=0}),$.value++};return Q(async()=>{try{await Promise.all(p.value.map(async l=>{const r=await F(Object.assign({"../assets/img/icon/ace.png":()=>e(()=>import("./ace-34f83527.js"),[],import.meta.url),"../assets/img/icon/azul.png":()=>e(()=>import("./azul-104d0980.js"),[],import.meta.url),"../assets/img/icon/cater.png":()=>e(()=>import("./cater-b85b6103.js"),[],import.meta.url),"../assets/img/icon/cosmic.png":()=>e(()=>import("./cosmic-a59dc59f.js"),[],import.meta.url),"../assets/img/icon/crewel.png":()=>e(()=>import("./crewel-6ab42db2.js"),[],import.meta.url),"../assets/img/icon/crowley.png":()=>e(()=>import("./crowley-fd99c5d0.js"),[],import.meta.url),"../assets/img/icon/deuce.png":()=>e(()=>import("./deuce-2352262f.js"),[],import.meta.url),"../assets/img/icon/epel.png":()=>e(()=>import("./epel-0faa9669.js"),[],import.meta.url),"../assets/img/icon/fellow.png":()=>e(()=>import("./fellow-a00d75c7.js"),[],import.meta.url),"../assets/img/icon/fire.png":()=>e(()=>import("./fire-49f6afc2.js"),[],import.meta.url),"../assets/img/icon/flora.png":()=>e(()=>import("./flora-816b4821.js"),[],import.meta.url),"../assets/img/icon/floyd.png":()=>e(()=>import("./floyd-368ab9db.js"),[],import.meta.url),"../assets/img/icon/grim.png":()=>e(()=>import("./grim-724f2176.js"),[],import.meta.url),"../assets/img/icon/idia.png":()=>e(()=>import("./idia-31cb1427.js"),[],import.meta.url),"../assets/img/icon/jack.png":()=>e(()=>import("./jack-23267685.js"),[],import.meta.url),"../assets/img/icon/jade.png":()=>e(()=>import("./jade-561d2cbc.js"),[],import.meta.url),"../assets/img/icon/jamil.png":()=>e(()=>import("./jamil-34a1eb2e.js"),[],import.meta.url),"../assets/img/icon/kalim.png":()=>e(()=>import("./kalim-65c834c5.js"),[],import.meta.url),"../assets/img/icon/leona.png":()=>e(()=>import("./leona-536d417e.js"),[],import.meta.url),"../assets/img/icon/lilia.png":()=>e(()=>import("./lilia-7ddfbf2f.js"),[],import.meta.url),"../assets/img/icon/malleus.png":()=>e(()=>import("./malleus-d8a8aef9.js"),[],import.meta.url),"../assets/img/icon/ortho.png":()=>e(()=>import("./ortho-b307a73d.js"),[],import.meta.url),"../assets/img/icon/riddle.png":()=>e(()=>import("./riddle-bb106fb0.js"),[],import.meta.url),"../assets/img/icon/rollo.png":()=>e(()=>import("./rollo-abfad1a5.js"),[],import.meta.url),"../assets/img/icon/rook.png":()=>e(()=>import("./rook-08b4c270.js"),[],import.meta.url),"../assets/img/icon/ruggie.png":()=>e(()=>import("./ruggie-825bc723.js"),[],import.meta.url),"../assets/img/icon/sebek.png":()=>e(()=>import("./sebek-d7f9f410.js"),[],import.meta.url),"../assets/img/icon/silver.png":()=>e(()=>import("./silver-6b693d48.js"),[],import.meta.url),"../assets/img/icon/train.png":()=>e(()=>import("./train-f5efeb27.js"),[],import.meta.url),"../assets/img/icon/trey.png":()=>e(()=>import("./trey-16a59558.js"),[],import.meta.url),"../assets/img/icon/vil.png":()=>e(()=>import("./vil-5fff0695.js"),[],import.meta.url),"../assets/img/icon/water.png":()=>e(()=>import("./water-8e4cbf0d.js"),[],import.meta.url)}),`../assets/img/icon/${l.value}.png`);l.icon=r.default})),N.value=await Z(y),await Promise.all(y.map(l=>F(Object.assign({"../assets/img/icon/ace.png":()=>e(()=>import("./ace-34f83527.js"),[],import.meta.url),"../assets/img/icon/azul.png":()=>e(()=>import("./azul-104d0980.js"),[],import.meta.url),"../assets/img/icon/cater.png":()=>e(()=>import("./cater-b85b6103.js"),[],import.meta.url),"../assets/img/icon/cosmic.png":()=>e(()=>import("./cosmic-a59dc59f.js"),[],import.meta.url),"../assets/img/icon/crewel.png":()=>e(()=>import("./crewel-6ab42db2.js"),[],import.meta.url),"../assets/img/icon/crowley.png":()=>e(()=>import("./crowley-fd99c5d0.js"),[],import.meta.url),"../assets/img/icon/deuce.png":()=>e(()=>import("./deuce-2352262f.js"),[],import.meta.url),"../assets/img/icon/epel.png":()=>e(()=>import("./epel-0faa9669.js"),[],import.meta.url),"../assets/img/icon/fellow.png":()=>e(()=>import("./fellow-a00d75c7.js"),[],import.meta.url),"../assets/img/icon/fire.png":()=>e(()=>import("./fire-49f6afc2.js"),[],import.meta.url),"../assets/img/icon/flora.png":()=>e(()=>import("./flora-816b4821.js"),[],import.meta.url),"../assets/img/icon/floyd.png":()=>e(()=>import("./floyd-368ab9db.js"),[],import.meta.url),"../assets/img/icon/grim.png":()=>e(()=>import("./grim-724f2176.js"),[],import.meta.url),"../assets/img/icon/idia.png":()=>e(()=>import("./idia-31cb1427.js"),[],import.meta.url),"../assets/img/icon/jack.png":()=>e(()=>import("./jack-23267685.js"),[],import.meta.url),"../assets/img/icon/jade.png":()=>e(()=>import("./jade-561d2cbc.js"),[],import.meta.url),"../assets/img/icon/jamil.png":()=>e(()=>import("./jamil-34a1eb2e.js"),[],import.meta.url),"../assets/img/icon/kalim.png":()=>e(()=>import("./kalim-65c834c5.js"),[],import.meta.url),"../assets/img/icon/leona.png":()=>e(()=>import("./leona-536d417e.js"),[],import.meta.url),"../assets/img/icon/lilia.png":()=>e(()=>import("./lilia-7ddfbf2f.js"),[],import.meta.url),"../assets/img/icon/malleus.png":()=>e(()=>import("./malleus-d8a8aef9.js"),[],import.meta.url),"../assets/img/icon/ortho.png":()=>e(()=>import("./ortho-b307a73d.js"),[],import.meta.url),"../assets/img/icon/riddle.png":()=>e(()=>import("./riddle-bb106fb0.js"),[],import.meta.url),"../assets/img/icon/rollo.png":()=>e(()=>import("./rollo-abfad1a5.js"),[],import.meta.url),"../assets/img/icon/rook.png":()=>e(()=>import("./rook-08b4c270.js"),[],import.meta.url),"../assets/img/icon/ruggie.png":()=>e(()=>import("./ruggie-825bc723.js"),[],import.meta.url),"../assets/img/icon/sebek.png":()=>e(()=>import("./sebek-d7f9f410.js"),[],import.meta.url),"../assets/img/icon/silver.png":()=>e(()=>import("./silver-6b693d48.js"),[],import.meta.url),"../assets/img/icon/train.png":()=>e(()=>import("./train-f5efeb27.js"),[],import.meta.url),"../assets/img/icon/trey.png":()=>e(()=>import("./trey-16a59558.js"),[],import.meta.url),"../assets/img/icon/vil.png":()=>e(()=>import("./vil-5fff0695.js"),[],import.meta.url),"../assets/img/icon/water.png":()=>e(()=>import("./water-8e4cbf0d.js"),[],import.meta.url)}),`../assets/img/icon/${l.name_en}.png`).then(r=>{l.imgUrl=r.default}).catch(()=>{l.imgUrl=""})))}finally{w.value=!1}B.handlePageChange("retirePage")}),(l,r)=>(s(),W(ae,null,{default:m(()=>[_("div",re,[n(E,{class:"reset-btn",size:"small",onClick:q},{default:m(()=>[d(g(l.$t("retire.reset"))+" ("+g($.value)+g(l.$t("retire.num"))+") ",1)]),_:1})]),n(ee,null,{default:m(()=>[n(x,{cols:"12",class:"d-flex justify-center"},{default:m(()=>[_("div",_e,[(s(),a(A,null,V(5,(u,t)=>{var U,j;return _("div",{key:t,class:"character-row"},[_("div",ue,[_("div",{class:"character-slot",onClick:i=>M(t)},[I.value[t]?(s(),a("img",{key:0,src:(U=I.value[t])==null?void 0:U.imgUrl,alt:(j=I.value[t])==null?void 0:j.name_en,class:"character-image"},null,8,me)):(s(),a("div",ce,[n(z,null,{default:m(()=>[d("mdi-plus")]),_:1})]))],8,ne),h.value[t]<4?(s(),a("div",{key:0,class:"add-field-btn",onClick:i=>K(t)},[n(z,{size:"small"},{default:m(()=>[d("mdi-plus")]),_:1})],8,de)):f("",!0)]),_("div",pe,[_("div",ve,[_("div",ge,[_("div",{class:"select-header",onClick:i=>D(t,"field1")},[o.value[t].field1Attribute?(s(),a("img",{key:0,src:k(o.value[t].field1Attribute),alt:R(o.value[t].field1Attribute),class:"attribute-icon"},null,8,Ee)):(s(),a("span",Ve,"▽"))],8,fe),v.value===`${t}-field1`?(s(),a("div",Ae,[(s(!0),a(A,null,V(p.value,i=>(s(),a("div",{key:i.value,class:"select-option",onClick:b=>P(t,"field1",i.value)},[_("img",{src:i.icon,alt:i.name,class:"attribute-icon"},null,8,he)],8,Ce))),128))])):f("",!0)]),_("div",Ie,[n(O,{modelValue:o.value[t].field1,"onUpdate:modelValue":i=>o.value[t].field1=i,"hide-details":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),n(E,{size:"small",class:"counter-btn",onClick:i=>T(t,"field1")},{default:m(()=>[d(g(o.value[t].field1Count),1)]),_:2},1032,["onClick"])])]),_("div",De,[_("div",Pe,[_("div",{class:"select-header",onClick:i=>D(t,"field2")},[o.value[t].field2Attribute?(s(),a("img",{key:0,src:k(o.value[t].field2Attribute),alt:R(o.value[t].field2Attribute),class:"attribute-icon"},null,8,Re)):(s(),a("span",Te,"▽"))],8,ke),v.value===`${t}-field2`?(s(),a("div",Oe,[(s(!0),a(A,null,V(p.value,i=>(s(),a("div",{key:i.value,class:"select-option",onClick:b=>P(t,"field2",i.value)},[_("img",{src:i.icon,alt:i.name,class:"attribute-icon"},null,8,be)],8,Le))),128))])):f("",!0)]),_("div",ye,[n(O,{modelValue:o.value[t].field2,"onUpdate:modelValue":i=>o.value[t].field2=i,"hide-details":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),n(E,{size:"small",class:"counter-btn",onClick:i=>T(t,"field2")},{default:m(()=>[d(g(o.value[t].field2Count),1)]),_:2},1032,["onClick"])])]),h.value[t]>=3?(s(),a("div",we,[_("div",$e,[_("div",{class:"select-header",onClick:i=>D(t,"field3")},[o.value[t].field3Attribute?(s(),a("img",{key:0,src:k(o.value[t].field3Attribute),alt:R(o.value[t].field3Attribute),class:"attribute-icon"},null,8,je)):(s(),a("span",ze,"▽"))],8,Ue),v.value===`${t}-field3`?(s(),a("div",Fe,[(s(!0),a(A,null,V(p.value,i=>(s(),a("div",{key:i.value,class:"select-option",onClick:b=>P(t,"field3",i.value)},[_("img",{src:i.icon,alt:i.name,class:"attribute-icon"},null,8,Ne)],8,Be))),128))])):f("",!0)]),_("div",Se,[n(O,{modelValue:o.value[t].field3,"onUpdate:modelValue":i=>o.value[t].field3=i,"hide-details":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),n(E,{size:"small",class:"counter-btn",onClick:i=>T(t,"field3")},{default:m(()=>[d(g(o.value[t].field3Count),1)]),_:2},1032,["onClick"])])])):f("",!0),h.value[t]>=4?(s(),a("div",Me,[_("div",He,[_("div",{class:"select-header",onClick:i=>D(t,"field4")},[o.value[t].field4Attribute?(s(),a("img",{key:0,src:k(o.value[t].field4Attribute),alt:R(o.value[t].field4Attribute),class:"attribute-icon"},null,8,qe)):(s(),a("span",Ge,"▽"))],8,Ke),v.value===`${t}-field4`?(s(),a("div",Je,[(s(!0),a(A,null,V(p.value,i=>(s(),a("div",{key:i.value,class:"select-option",onClick:b=>P(t,"field4",i.value)},[_("img",{src:i.icon,alt:i.name,class:"attribute-icon"},null,8,We)],8,Qe))),128))])):f("",!0)]),_("div",Xe,[n(O,{modelValue:o.value[t].field4,"onUpdate:modelValue":i=>o.value[t].field4=i,"hide-details":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),n(E,{size:"small",class:"counter-btn",onClick:i=>T(t,"field4")},{default:m(()=>[d(g(o.value[t].field4Count),1)]),_:2},1032,["onClick"])])])):f("",!0)])])}),64))])]),_:1})]),_:1}),n(se,{modelValue:C.value,"onUpdate:modelValue":r[1]||(r[1]=u=>C.value=u),"max-width":"800px"},{default:m(()=>[n(te,null,{default:m(()=>[n(oe,null,{default:m(()=>[_("div",Ye,[(s(!0),a(A,null,V(S.value,u=>(s(),a("div",{key:u.name_en,class:"character-item",onClick:t=>H(u)},[_("img",{src:u.imgUrl,alt:u.name_en,class:"character-image"},null,8,xe)],8,Ze))),128))])]),_:1}),n(ie,null,{default:m(()=>[n(le),n(E,{color:"primary",onClick:r[0]||(r[0]=u=>C.value=!1)},{default:m(()=>[d("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});const ct=X(et,[["__scopeId","data-v-a5f87f1a"]]);export{ct as default};
