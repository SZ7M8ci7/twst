import{I as h,bi as g,r as O,e as i}from"./index-BxqFj9Uh.js";const s="twst-hand-collection";function m(t){return{characterName:"",cardName:t,isOwned:!1,level:0,isLimitBreak:!1,isM3:!1}}function v(){try{const t=localStorage.getItem(s);return t?JSON.parse(t):{}}catch(t){return console.warn("Failed to load hand collection from localStorage:",t),{}}}function H(t){try{localStorage.setItem(s,JSON.stringify(t))}catch(n){console.warn("Failed to save hand collection to localStorage:",n)}}const S=h("handCollection",()=>{const t=g(v()),n=O(!0);function r(e){return t[e]||(t[e]=m(e)),t[e]}function c(e,o){const l=r(e);Object.assign(l,o),"isLimitBreak"in o&&o.isLimitBreak&&(l.isM3=!0)}function d(e){return r(e).isOwned}const a=i(()=>Object.values(t).filter(e=>e.isOwned));function u(e){n.value=e}function C(){H(t)}const f=i(()=>({totalCards:Object.keys(t).length,ownedCardsCount:a.value.length,limitBreakCardsCount:a.value.filter(e=>e.isLimitBreak).length,m3CardsCount:a.value.filter(e=>e.isM3).length}));return{handCollection:t,useHandCollection:n,ownedCards:a,stats:f,getHandCard:r,updateHandCard:c,isCharacterOwned:d,setUseHandCollection:u,saveHandCollectionManually:C}});export{S as useHandCollectionStore};
