import{I as g,bi as O,r as m,e as l}from"./index-B5dbCjhG.js";const s="twst-hand-collection";function v(t){return{characterName:"",cardName:t,isOwned:!1,level:0,isLimitBreak:!1,isM3:!1}}function H(){try{const t=localStorage.getItem(s);return t?JSON.parse(t):{}}catch(t){return console.warn("Failed to load hand collection from localStorage:",t),{}}}function S(t){try{localStorage.setItem(s,JSON.stringify(t))}catch(n){console.warn("Failed to save hand collection to localStorage:",n)}}const k=g("handCollection",()=>{const t=O(H()),n=m(!1);function r(e){return t[e]||(t[e]=v(e)),t[e]}function c(e,o){const i=r(e);Object.assign(i,o),"isLimitBreak"in o&&o.isLimitBreak&&(i.isM3=!0)}function d(e){return r(e).isOwned}const a=l(()=>Object.values(t).filter(e=>e.isOwned));function u(e){n.value=e}function C(){S(t)}const f=l(()=>a.value.length>0),h=l(()=>({totalCards:Object.keys(t).length,ownedCardsCount:a.value.length,limitBreakCardsCount:a.value.filter(e=>e.isLimitBreak).length,m3CardsCount:a.value.filter(e=>e.isM3).length}));return{handCollection:t,useHandCollection:n,ownedCards:a,hasAnyHandSettings:f,stats:h,getHandCard:r,updateHandCard:c,isCharacterOwned:d,setUseHandCollection:u,saveHandCollectionManually:C}});export{k as useHandCollectionStore};
